#include "TROOT.h"
#include "TMath.h"
#include "TTree.h"
#include "TArrayD.h"
#include "TStyle.h"
#include "TFile.h"
#include "TRandom.h"
#include "Riostream.h"
#include "TCanvas.h"
#include "TMatrixD.h"
#include "TH2F.h"
#include "TLegend.h"
#include "TBranch.h"
#include <vector>

void plot( TString fname = "data.root", TString var0="var0", TString var1="var1" ){
   
	TFile* dataFile = TFile::Open( fname );
   
	if (!dataFile) {
      		cout << "ERROR: cannot open file: " << fname << endl;
      		return;
  	 }
   	
	TTree *treeS = (TTree*)dataFile->Get("TreeS");
   	TTree *treeB = (TTree*)dataFile->Get("TreeB");
   	TCanvas* c = new TCanvas( "c", "", 0, 0, 550, 550 );
   	TStyle *TMVAStyle = gROOT->GetStyle("Plain"); // our style is based on Plain
  	TMVAStyle->SetOptStat(0);
   	TMVAStyle->SetPadTopMargin(0.02);
   	TMVAStyle->SetPadBottomMargin(0.16);
   	TMVAStyle->SetPadRightMargin(0.03);
   	TMVAStyle->SetPadLeftMargin(0.15);
   	TMVAStyle->SetPadGridX(0);
   	TMVAStyle->SetPadGridY(0);
   	TMVAStyle->SetOptTitle(0);
   	TMVAStyle->SetTitleW(.4);
   	TMVAStyle->SetTitleH(.10);
   	TMVAStyle->SetTitleX(.5);
   	TMVAStyle->SetTitleY(.9);
   	TMVAStyle->SetMarkerStyle(20);
   	TMVAStyle->SetMarkerSize(1.6);
   	TMVAStyle->cd();
   	Float_t xmin = TMath::Min( treeS->GetMinimum( var0 ), treeB->GetMinimum( var0 ) );
   	Float_t xmax = TMath::Max( treeS->GetMaximum( var0 ), treeB->GetMaximum( var0 ) );
 	Float_t ymin = TMath::Min( treeS->GetMinimum( var1 ), treeB->GetMinimum( var1 ) );
	Float_t ymax = TMath::Max( treeS->GetMaximum( var1 ), treeB->GetMaximum( var1 ) );
	Int_t nbin = 500;
	TH2F* frameS = new TH2F( "DataS", "DataS", nbin, xmin, xmax, nbin, ymin, ymax );
	TH2F* frameB = new TH2F( "DataB", "DataB", nbin, xmin, xmax, nbin, ymin, ymax );

	// project trees
	treeS->Draw( Form("%s:%s>>DataS",var1.Data(),var0.Data()), "", "0" );
   	treeB->Draw( Form("%s:%s>>DataB",var1.Data(),var0.Data()), "", "0" );

